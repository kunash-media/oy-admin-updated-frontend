<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../Admin_Details/admin.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

</head>

<style>
         .top-navbar {
            background-color: #2d2d30;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }
 
        .nav-left {
            display: flex;
            align-items: center;
        }
 
        .menu-icon {
            color: white;
            font-size: 24px;
            cursor: pointer;
            margin-right: 15px;
        }
 
        .admin-name {
            color: white;
            font-size: 18px;
            font-weight: 500;
        }
 
        .nav-right {
            position: relative;
        }
 
        .profile-icon {
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
 
        .dropdown {
            position: absolute;
            top: 40px;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
            min-width: 120px;
        }
 
        .dropdown.show {
            display: block;
        }
 
        .dropdown-item {
            padding: 10px 15px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
 
        .dropdown-item:hover {
            background-color: #f0f0f0;
        }
 
        /* Left Navigation Bar */
        .left-navbar {
            position: fixed;
            top: 60px;
            left: -250px;
            width: 250px;
            height: calc(100vh - 60px);
            background-color: #2d2d30;
            transition: left 0.3s ease;
            z-index: 999;
            overflow-y: auto;
        }
 
        .left-navbar.open {
            left: 0;
        }
 
        .nav-item {
            border-bottom: 1px solid #404040;
        }
 
        .nav-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            color: white;
            text-decoration: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
 
        .nav-link:hover {
            background-color: #404040;
        }
 
        .nav-arrow {
            font-size: 12px;
            transition: transform 0.3s;
        }
 
        .nav-arrow.rotated {
            transform: rotate(90deg);
        }
 
        .sub-menu {
            background-color: #404040;
            display: none;
        }
 
        .sub-menu.show {
            display: block;
        }
 
        .sub-link {
            padding: 12px 40px;
            color: #ccc;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s;
        }
 
        .sub-link:hover {
            background-color: #505050;
        }

    a {
        text-decoration: none;
        color: white;
    }  
</style>

<body>

    <div class="overlay" id="overlay"></div>

   <!-- Top Navigation Bar -->
    <div class="top-navbar">
        <div class="nav-left">
            <div class="menu-icon" onclick="toggleLeftNav()">☰</div>
            <span class="admin-name">Admin</span>
        </div>
        <div class="nav-right">
            <div class="profile-icon" onclick="toggleDropdown()"><i class="fas fa-user-circle profile-icon" id="profileIcon"></i></div>
            <div class="dropdown" id="profileDropdown">
                <div class="dropdown-item" onclick="logout()">Logout</div>
            </div>
        </div>
    </div>
 
    <!-- Left Navigation Bar -->
    <div class="left-navbar" id="leftNavbar">
        <div class="nav-item">

           <div class="nav-link" ><a href="../Dashboard/Dashboard.html">Dashboard</a></div>
            <div class="nav-link" onclick="toggleSubMenu('inventory')">
                <span>Inventory</span>
                <span class="nav-arrow" id="inventoryArrow">▶</span>
            </div>
            <div class="sub-menu" id="inventoryMenu">
                <a href="../products/product.html" class="sub-link">Product</a>
                <a href="../Banners/banner.html" class="sub-link">Banners</a>
                <a href="#" class="sub-link">Coupons</a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link" onclick="toggleSubMenu('customers')">
                <span>Customers</span>
                <span class="nav-arrow" id="customersArrow">▶</span>
            </div>
            <div class="sub-menu" id="customersMenu">
                <a href="../CustomerDetails/CustomerDetails.html" class="sub-link">Customer Details</a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link">
                <a href="../Order/Orders.html"><span>Order</span></a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link" onclick="toggleSubMenu('store')">
                <span>Store Customization</span>
                <span class="nav-arrow" id="storeArrow">▶</span>
            </div>
            <div class="sub-menu" id="storeMenu">
                <a href="../Customization/AboutUs-Customization/AboutUs-Customization.html" class="sub-link">About Us</a>
                <a href="../Customization/contact/Contactus-Customization.html" class="sub-link">Contact Us</a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link">
                <a href="../OurStaff/OurStaff.html"><span>Our Staff</span></a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link" onclick="toggleSubMenu('settings')">
                <span>Settings</span>
                <span class="nav-arrow" id="settingsArrow">▶</span>
            </div>
            <div class="sub-menu" id="settingsMenu">
                <a href="../Admin_Details/AdminDetails.html" class="sub-link">Admin Details</a>
            </div>
        </div>
        <!-- <div class="nav-item">
            <div class="nav-link" onclick="logout()">
                <a href="../Login/Login.html"><span>Logout</span></a>
            </div>
        </div> -->
    </div>


    <div class="main-content" style="margin-left: 270px; margin-right: 40px; padding: 20px;">
        <h3 class="mb-4 " style="font-size:21px; font-weight: 350; font-family:roboto;"><b>Admin Details</b></h3>
        
        <div class="button-container d-flex justify-content-between align-items-center" style="margin-bottom: 30px; padding: 25px; background-color: #f8f9fa; border-radius: 5px; border:1px solid grey">
            <div class="left-buttons">
                <div class="btn-group me-2">
                    <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-file-export"></i> Export
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#"><i class="fas fa-file-excel"></i> Export by Excel</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-file-csv"></i> Export by CSV</a></li>
                    </ul>
                </div>
                <div class="btn-group ">
                    <button class="btn btn-outline-success" type="button" data-bs-toggle="collapse" data-bs-target="#importCollapse">
                        <i class="fas fa-file-import "></i> Import
                    </button>
                    <div id="importCollapse" class="collapse" style="position: absolute; z-index: 1000; width: 300px; margin-top: 5px;">
                        <div class="card card-body" style="border: 2px dashed #6c757d; padding: 20px;">
                            <input type="file" id="fileInput" style="display: none;" multiple>
                            <p class="text-center" onclick="document.getElementById( 'fileInput').click() " style="cursor: pointer;">Click to select files</p>
                            <button class="btn btn-primary ms-auto" style="width: fit-content;" onclick="handleImport() ">
                                <i class="fas fa-upload"></i> Import Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-buttons">
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addAdminModal">
                    <i class="fas fa-plus"></i> Add Admin
                </button>
            </div>
        </div>

        <div class="filter-container d-flex align-items-center" style="margin-bottom: 30px; padding: 25px; background-color: #f8f9fa; border-radius: 5px; border:1px solid grey">
            <div class="search-box me-3 " style="flex: 1;">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search by name/email/id">
                    <button class="btn btn-outline-secondary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>

            <button class="btn btn-success me-2" id="filterBtn">
                <i class="fas fa-filter"></i> Filter
            </button>

            <button class="btn btn-outline-secondary" id="resetBtn">
                <i class="fas fa-undo"></i> Reset
            </button>
        </div>

        <div class="table-responsive">
            <table class="table table-striped table-hover table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Password</th>
                        <th>Created At</th>
                        <th>Updated At</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="adminTableBody">
                    <!-- Dynamic data will be populated here -->
                </tbody>
            </table>
        </div>

        <!-- Loading Spinner -->
        <div id="loadingSpinner" class="text-center" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p>Loading admin data...</p>
        </div>
    </div>
    <!-- Add Admin Modal -->
    <div class="modal fade" id="addAdminModal" tabindex="-1" aria-labelledby="addAdminModalLabel" aria-hidden="true ">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addAdminModalLabel">Add New Admin</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close "></button>
                </div>
                <div class="modal-body">
                    <form id="addAdminForm">
                        <div class="mb-3 ">
                            <label for="adminName " class="form-label ">Name</label>
                            <input type="text " class="form-control " id="adminName " required>
                        </div>
                        <div class="mb-3 ">
                            <label for="adminEmail " class="form-label ">Email</label>
                            <input type="email " class="form-control " id="adminEmail " required>
                        </div>
                        <div class="mb-3 ">
                            <label for="adminPassword " class="form-label ">Password</label>
                            <input type="password " class="form-control " id="adminPassword " required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer ">
                    <button type="button " class="btn btn-primary " onclick="addNewAdmin() ">Add Admin</button>
                </div>
            </div>
        </div>
    </div>

    <footer style="background-color: #f0f0f0; height: 60px; display: flex; align-items: center; justify-content: center; font-family: Open Sans;">
       <p style="color: black; font-weight: 400; margin: 0; font-size: medium">
            © 2025 OY Jewells | Developed by Kunash Media Gloabl Solutions.
        </p>
    </footer>

    <script>
        function handleImport() {
            const fileInput = document.getElementById('fileInput');
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                const reader = new FileReader();

                reader.onload = function(e) {
                    try {
                        const data = new Uint8Array(e.target.result);
                        const workbook = XLSX.read(data, {
                            type: 'array'
                        });
                        // Process the workbook here
                        alert('File imported successfully!');
                        console.log(workbook);
                    } catch (error) {
                        console.error('Error importing file:', error);
                        alert('Error importing file. Please check the file format.');
                    }
                };

                reader.onerror = function() {
                    alert('Error reading file');
                };

                reader.readAsArrayBuffer(file);
            } else {
                alert('Please select a file first');
            }
        }
    </script>

    <script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js "></script>
    <script src="../Admin_Details/admin.js "></script>
</body>

</html>