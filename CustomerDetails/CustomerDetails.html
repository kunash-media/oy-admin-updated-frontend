<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css">
    <link rel="stylesheet" href="../CustomerDetails/CustomerDetails.css">
</head>

<style>
    .top-navbar {
        background-color: #2d2d30;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
    }

    .nav-left {
        display: flex;
        align-items: center;
    }

    .menu-icon {
        color: white;
        font-size: 24px;
        cursor: pointer;
        margin-right: 15px;
    }

    .admin-name {
        color: white;
        font-size: 18px;
        font-weight: 500;
    }

    .nav-right {
        position: relative;
    }

    .profile-icon {
        color: white;
        font-size: 24px;
        cursor: pointer;
    }

    .dropdown {
        position: absolute;
        top: 40px;
        right: 0;
        background: white;
        border: 1px solid #ddd;
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        display: none;
        min-width: 120px;
    }

    .dropdown.show {
        display: block;
    }

    .dropdown-item {
        padding: 10px 15px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .dropdown-item:hover {
        background-color: #f0f0f0;
    }

    /* Left Navigation Bar */
    .left-navbar {
        position: fixed;
        top: 60px;
        left: -250px;
        width: 250px;
        height: calc(100vh - 60px);
        background-color: #2d2d30;
        transition: left 0.3s ease;
        z-index: 999;
        overflow-y: auto;
    }

    .left-navbar.open {
        left: 0;
    }

    .nav-item {
        border-bottom: 1px solid #404040;
    }

    .nav-link {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 15px 20px;
        color: white;
        text-decoration: none;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .nav-link:hover {
        background-color: #404040;
    }

    .nav-arrow {
        font-size: 12px;
        transition: transform 0.3s;
    }

    .nav-arrow.rotated {
        transform: rotate(90deg);
    }

    .sub-menu {
        background-color: #404040;
        display: none;
    }

    .sub-menu.show {
        display: block;
    }

    .sub-link {
        padding: 12px 40px;
        color: #ccc;
        text-decoration: none;
        display: block;
        transition: background-color 0.3s;
    }

    .sub-link:hover {
        background-color: #505050;
    }

    a {
        text-decoration: none;
        color: white;
    }
</style>

<body>
    <!-- Top Navigation Bar -->
    <div class="top-navbar">
        <div class="nav-left">
            <div class="menu-icon" onclick="toggleLeftNav()">☰</div>
            <span class="admin-name">Admin</span>
        </div>
        <div class="nav-right">
            <div class="profile-icon" onclick="toggleDropdown()"><i class="fas fa-user-circle profile-icon"
                    id="profileIcon"></i></div>
            <div class="dropdown" id="profileDropdown">
                <div class="dropdown-item" onclick="logout()">Logout</div>
            </div>
        </div>
    </div>

    <!-- Left Navigation Bar -->
    <div class="left-navbar" id="leftNavbar">
        <div class="nav-item">

            <div class="nav-link"><a href="../Dashboard/Dashboard.html">Dashboard</a></div>
            <div class="nav-link" onclick="toggleSubMenu('inventory')">
                <span>Inventory</span>
                <span class="nav-arrow" id="inventoryArrow">▶</span>
            </div>
            <div class="sub-menu" id="inventoryMenu">
                <a href="../products/product.html" class="sub-link">Product</a>
                <a href="../Banners/banner.html" class="sub-link">Banners</a>
                <a href="#" class="sub-link">Coupons</a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link" onclick="toggleSubMenu('customers')">
                <span>Customers</span>
                <span class="nav-arrow" id="customersArrow">▶</span>
            </div>
            <div class="sub-menu" id="customersMenu">
                <a href="../CustomerDetails/CustomerDetails.html" class="sub-link">Customer Details</a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link">
                <a href="../Order/Orders.html"><span>Order</span></a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link" onclick="toggleSubMenu('store')">
                <span>Store Customization</span>
                <span class="nav-arrow" id="storeArrow">▶</span>
            </div>
            <div class="sub-menu" id="storeMenu">
                <a href="../Customization/AboutUs-Customization/AboutUs-Customization.html" class="sub-link">About
                    Us</a>
                <a href="../Customization/contact/Contactus-Customization.html" class="sub-link">Contact Us</a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link">
                <a href="../OurStaff/OurStaff.html"><span>Our Staff</span></a>
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link" onclick="toggleSubMenu('settings')">
                <span>Settings</span>
                <span class="nav-arrow" id="settingsArrow">▶</span>
            </div>
            <div class="sub-menu" id="settingsMenu">
                <a href="../Admin_Details/AdminDetails.html" class="sub-link">Admin Details</a>
            </div>
        </div>
        <!-- <div class="nav-item">
            <div class="nav-link" onclick="logout()">
                <a href="../Login/Login.html"><span>Logout</span></a>
            </div>
        </div> -->
    </div>




    <div class="container-fluid">
        <!-- Export/Import Section -->
        <div class="action-container">
            <h3 class="page-title"><b>Customer Details</b></h3>
            <div class="left-buttons">
                <div class="btn-group me-2">
                    <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <i class="fas fa-file-export"></i> Export
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#" onclick="exportToExcel()"><i
                                    class="fas fa-file-excel"></i> Export Selected to Excel</a></li>
                        <li><a class="dropdown-item" href="#" onclick="exportAllToExcel()"><i
                                    class="fas fa-file-excel"></i> Export All to Excel</a></li>
                    </ul>
                </div>
                <!-- <div class="btn-group">
                    <button class="btn btn-outline-success" type="button" data-bs-toggle="collapse" data-bs-target="#importCollapse">
                        <i class="fas fa-file-import"></i> Import
                    </button>
                    <div id="importCollapse" class="collapse import-collapse">
                        <div class="card card-body import-card">
                            <input type="file" id="fileInput" style="display: none;" multiple accept=".xlsx,.xls,.csv">
                            <p class="text-center file-drop-text" onclick="document.getElementById('fileInput').click()">
                                <i class="fas fa-upload"></i><br>
                                Click to select files
                            </p>
                            <button class="btn btn-primary ms-auto import-btn" onclick="handleImport()">
                                <i class="fas fa-upload"></i> Import Now
                            </button>
                        </div>
                    </div>
                </div> -->
            </div>
        </div>

        <!-- Filter Section -->
        <div class="filter-container">
            <div class="search-box">
                <div class="input-group">
                    <input type="text" class="form-control" id="searchInput" placeholder="Search by name/email/phone">
                    <button class="btn btn-outline-secondary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            <button class="btn btn-success me-2" id="filterBtn">
                <i class="fas fa-filter"></i> Filter
            </button>
            <button class="btn btn-outline-secondary" id="resetBtn">
                <i class="fas fa-undo"></i> Reset
            </button>
        </div>

        <!-- Error/Success Messages -->
        <div class="message-container" id="messageContainer"></div>

        <!-- Loading Indicator -->
        <div class="loading" id="loadingIndicator">
            <i class="fas fa-spinner fa-spin"></i> Loading customer data...
        </div>

        <!-- Table Section -->
        <div class="table-container">
            <div class="table-responsive">
                <table class="table table-striped table-hover table-bordered customer-table">
                    <thead class="table-light">
                        <tr>
                            <th>
                                <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                            </th>
                            <th>User ID</th>
                            <th>Customer Name</th>
                            <th>Email</th>
                            <th>Mobile</th>
                            <th>Marital Status</th>
                            <th>Date of Birth</th>
                            <th>Anniversary</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="customerTableBody">
                        <!-- Dynamic data will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Pagination -->
        <div class="pagination-container">
            <nav aria-label="Customer pagination">
                <ul class="pagination justify-content-center" id="paginationContainer">
                    <!-- Pagination will be generated here -->
                </ul>
            </nav>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmationModalLabel">Confirm Action</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="confirmationModalBody">
                    Are you sure you want to perform this action?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                    <button type="button" class="btn btn-primary" id="confirmActionBtn">Yes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Edit Customer</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <input type="hidden" id="editUserId">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editCustomerName" class="form-label">Customer Name</label>
                                    <input type="text" class="form-control" id="editCustomerName" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editEmail" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="editEmail" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editMobile" class="form-label">Mobile</label>
                                    <input type="text" class="form-control" id="editMobile" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editMaritalStatus" class="form-label">Marital Status</label>
                                    <select class="form-control" id="editMaritalStatus">
                                        <option value="Single">Single</option>
                                        <option value="Married">Married</option>
                                        <option value="Divorced">Divorced</option>
                                        <option value="Widowed">Widowed</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editDOB" class="form-label">Date of Birth</label>
                                    <input type="date" class="form-control" id="editDOB">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editAnniversary" class="form-label">Anniversary</label>
                                    <input type="date" class="form-control" id="editAnniversary">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editStatus" class="form-label">Status</label>
                                    <select class="form-control" id="editStatus">
                                        <option value="active">Active</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveCustomer()">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
<p style="color: black; font-weight: 400; margin: 0; font-size: medium">
            © 2025 OY Jewells | Developed by Kunash Media Gloabl Solutions.
        </p>    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="../CustomerDetails/CustomerDetails.js"></script>
</body>

</html>